<!doctype html>
<html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><meta name="viewport" content="width=device-width, initial-scale=1"/><title>Mochawesome Report</title><link rel="stylesheet" href="assets/app.css"/></head><body data-raw="{&quot;stats&quot;:{&quot;suites&quot;:10,&quot;tests&quot;:39,&quot;passes&quot;:17,&quot;pending&quot;:20,&quot;failures&quot;:2,&quot;start&quot;:&quot;2020-11-19T10:53:30.053Z&quot;,&quot;end&quot;:&quot;2020-11-19T10:53:37.443Z&quot;,&quot;duration&quot;:7390,&quot;testsRegistered&quot;:39,&quot;passPercent&quot;:89.47368421052632,&quot;pendingPercent&quot;:51.28205128205128,&quot;other&quot;:0,&quot;hasOther&quot;:false,&quot;skipped&quot;:0,&quot;hasSkipped&quot;:false},&quot;results&quot;:[{&quot;uuid&quot;:&quot;dee01c16-4e77-460e-8639-3c2f0941cd75&quot;,&quot;title&quot;:&quot;&quot;,&quot;fullFile&quot;:&quot;&quot;,&quot;file&quot;:&quot;&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook in \&quot;{root}\&quot;&quot;,&quot;fullTitle&quot;:&quot;\&quot;before all\&quot; hook in \&quot;{root}\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:492,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;zilliqa = new Zilliqa(network);\nnetwork_id = await zilliqa.network.GetNetworkId();\n// Check that we are using correct address\nzilliqa.wallet.addByPrivateKey(adminPrivateKey);\naddress = getAddressFromPrivateKey(adminPrivateKey).toLowerCase();\nconst addressCheck = addressEqual(address, adminAddress);\nexpect(addressCheck).to.be.true;\n// Check address has at least 10 ZIL\nconst bal_obj = await zilliqa.blockchain.getBalance(address);\nconst balance_BN = new BN(bal_obj.result.balance);\nconst min_amount_BN = units.toQa(10, units.Units.Zil);\nlet ok = balance_BN.gte(min_amount_BN);\nexpect(ok).to.be.true;\n// Read contract address\nok = false;\ntry {\n  code = fs.readFileSync(&#x27;contracts/treasury.scilla&#x27;, &#x27;utf-8&#x27;);\n  ok = true;\n} catch (err) {\n  throw err \n}\nexpect(ok).to.be.true;\n// Deploy the contract\nthis.timeout(timeout_deploy);\nthis.slow(timeout_deploy / 2);\nconst MSG_VERSION = 1;\nconst VERSION = bytes.pack(chain_id, MSG_VERSION);\nconst myGasPrice = units.toQa(&#x27;1000&#x27;, units.Units.Li);\nconst init = [\n  { vname: &#x27;_scilla_version&#x27;, type: &#x27;Uint32&#x27;, value: &#x27;0&#x27;},\n  { vname: &#x27;init_admin&#x27;, type:  &#x27;ByStr20&#x27;, value: address },\n  { vname: &#x27;init_company&#x27;, type:  &#x27;ByStr20&#x27;, value: address },\n  { vname: &#x27;proxy_address&#x27;, type:  &#x27;ByStr20&#x27;, value: address },\n  { vname: &#x27;token_address&#x27;, type:  &#x27;ByStr20&#x27;, value: address },\n  { vname: &#x27;base_value&#x27;, type:  &#x27;Uint128&#x27;, value: baseValue }\n];\nconst contract = zilliqa.contracts.new(code, init);\n[deployTx, treasury] = await contract.deploy({\n  version: VERSION,\n  gasPrice: myGasPrice,\n  gasLimit: Long.fromNumber(15000),\n});\nconsole.log(\&quot;Deployed Contract Address =\&quot;, treasury.address);\nexpect(deployTx.txParams.receipt.success).to.be.true;\ntreasury_api = new TreasuryAPI(treasury, chain_id);\nexpect(treasury_api).be.instanceOf(TreasuryAPI);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;df05e980-daa5-4fa3-b5cb-c4fa1f0379dc&quot;,&quot;parentUUID&quot;:&quot;dee01c16-4e77-460e-8639-3c2f0941cd75&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook in \&quot;{root}\&quot;&quot;,&quot;fullTitle&quot;:&quot;\&quot;before each\&quot; hook in \&quot;{root}\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:240,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;//Reset admin\n  treasury_api.setSigningAddress(adminPrivateKey); //@todo - we need to read the current admin and do look up for private key\n  resp = await treasury_api.changeAdmin(adminAddress);\n  expect(resp.success).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;fb3b4dfa-8937-4d42-81b7-d47d1c9aba80&quot;,&quot;parentUUID&quot;:&quot;dee01c16-4e77-460e-8639-3c2f0941cd75&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;81d1a041-d5ff-4afb-b847-567703e95876&quot;,&quot;title&quot;:&quot;Treasury Smart Contract Tests&quot;,&quot;fullFile&quot;:&quot;/Users/adam/OFFICE/CRYPTO/GenesysLabs/Treasury/test/treasury.js&quot;,&quot;file&quot;:&quot;/test/treasury.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;465ce1da-6967-4726-9062-7f739013baab&quot;,&quot;title&quot;:&quot;Connect to Zilliqa Blockchain&quot;,&quot;fullFile&quot;:&quot;/Users/adam/OFFICE/CRYPTO/GenesysLabs/Treasury/test/treasury.js&quot;,&quot;file&quot;:&quot;/test/treasury.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should run on node version v10&quot;,&quot;fullTitle&quot;:&quot;Treasury Smart Contract Tests Connect to Zilliqa Blockchain should run on node version v10&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const node_version = process.version;\nconst nodeVersionCheck = (node_version.substring(0,4) == nodeVersion);\nexpect(nodeVersionCheck).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0fb4e70b-5399-4c50-9c74-6a95adbb2ea5&quot;,&quot;parentUUID&quot;:&quot;465ce1da-6967-4726-9062-7f739013baab&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should connect to the blockchain and get the right chain_id&quot;,&quot;fullTitle&quot;:&quot;Treasury Smart Contract Tests Connect to Zilliqa Blockchain should connect to the blockchain and get the right chain_id&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const id = parseInt(network_id.result)\nexpect(id).to.equal(chain_id)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ff83456c-5c4f-4a8c-8e70-a2fec09fd261&quot;,&quot;parentUUID&quot;:&quot;465ce1da-6967-4726-9062-7f739013baab&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;0fb4e70b-5399-4c50-9c74-6a95adbb2ea5&quot;,&quot;ff83456c-5c4f-4a8c-8e70-a2fec09fd261&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:2,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;5404c81f-6210-4785-a6be-72efdf15487f&quot;,&quot;title&quot;:&quot;Deployment Checks&quot;,&quot;fullFile&quot;:&quot;/Users/adam/OFFICE/CRYPTO/GenesysLabs/Treasury/test/treasury.js&quot;,&quot;file&quot;:&quot;/test/treasury.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should have correct admin address&quot;,&quot;fullTitle&quot;:&quot;Treasury Smart Contract Tests Deployment Checks should have correct admin address&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:14,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;contractAdminAddress = await treasury_api.getAdmin();\nexpect(contractAdminAddress).to.equal(address)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7415ccfd-1d39-4fdf-9305-810138e23606&quot;,&quot;parentUUID&quot;:&quot;5404c81f-6210-4785-a6be-72efdf15487f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should have correct company address&quot;,&quot;fullTitle&quot;:&quot;Treasury Smart Contract Tests Deployment Checks should have correct company address&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:20,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;contractCompanyAddress = await treasury_api.getCompany();\nexpect(contractCompanyAddress).to.equal(address)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3af0d5de-dfa6-477e-b0e9-07b6142f9005&quot;,&quot;parentUUID&quot;:&quot;5404c81f-6210-4785-a6be-72efdf15487f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should have correct base price&quot;,&quot;fullTitle&quot;:&quot;Treasury Smart Contract Tests Deployment Checks should have correct base price&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:35,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const price = await treasury_api.getTokenPrice();\nconst bn_price = new BN(price);\nexpect(bn_price).to.deep.equal(units.toQa(baseValue, units.Units.Zil))&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b2af07e6-eb74-4819-b8aa-4aea7526132b&quot;,&quot;parentUUID&quot;:&quot;5404c81f-6210-4785-a6be-72efdf15487f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should have 0 tokens&quot;,&quot;fullTitle&quot;:&quot;Treasury Smart Contract Tests Deployment Checks should have 0 tokens&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:24,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const num_tokens = await treasury_api.getTokenBalance();\nexpect(num_tokens).to.equal(&#x27;0&#x27;)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;da4163c3-0145-4d7b-b6bc-1e77adbfaa88&quot;,&quot;parentUUID&quot;:&quot;5404c81f-6210-4785-a6be-72efdf15487f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should be \&quot;paused\&quot; on contract creation&quot;,&quot;fullTitle&quot;:&quot;Treasury Smart Contract Tests Deployment Checks should be \&quot;paused\&quot; on contract creation&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:24,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const pausedStatus = await treasury_api.isPaused();\nexpect(pausedStatus).to.equal(&#x27;True&#x27;)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;534f9ae1-7127-4b4d-9aac-21b6c1ae30b4&quot;,&quot;parentUUID&quot;:&quot;5404c81f-6210-4785-a6be-72efdf15487f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not be \&quot;under funded\&quot; on contract creation&quot;,&quot;fullTitle&quot;:&quot;Treasury Smart Contract Tests Deployment Checks should not be \&quot;under funded\&quot; on contract creation&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;expect(allState.underFunded.constructor).to.equal(&#x27;False&#x27;)&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;TypeError: Cannot read property &#x27;constructor&#x27; of undefined&quot;,&quot;estack&quot;:&quot;TypeError: Cannot read property &#x27;constructor&#x27; of undefined\n    at Context.&lt;anonymous&gt; (test/treasury.js:182:35)&quot;},&quot;uuid&quot;:&quot;3b454395-55f7-45af-a5cd-dfe003e914a7&quot;,&quot;parentUUID&quot;:&quot;5404c81f-6210-4785-a6be-72efdf15487f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;7415ccfd-1d39-4fdf-9305-810138e23606&quot;,&quot;3af0d5de-dfa6-477e-b0e9-07b6142f9005&quot;,&quot;b2af07e6-eb74-4819-b8aa-4aea7526132b&quot;,&quot;da4163c3-0145-4d7b-b6bc-1e77adbfaa88&quot;,&quot;534f9ae1-7127-4b4d-9aac-21b6c1ae30b4&quot;],&quot;failures&quot;:[&quot;3b454395-55f7-45af-a5cd-dfe003e914a7&quot;],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:117,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;6741e3cf-e702-4704-b8aa-ffda6c47ea5e&quot;,&quot;title&quot;:&quot;Contract Tests&quot;,&quot;fullFile&quot;:&quot;/Users/adam/OFFICE/CRYPTO/GenesysLabs/Treasury/test/treasury.js&quot;,&quot;file&quot;:&quot;/test/treasury.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;b4879981-9505-4f46-8c85-e5ca2d0b92ab&quot;,&quot;title&quot;:&quot;Management Functions&quot;,&quot;fullFile&quot;:&quot;/Users/adam/OFFICE/CRYPTO/GenesysLabs/Treasury/test/treasury.js&quot;,&quot;file&quot;:&quot;/test/treasury.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;aad762bb-5036-4e6d-9785-666c679f2436&quot;,&quot;title&quot;:&quot;Pausing Related Transitions&quot;,&quot;fullFile&quot;:&quot;/Users/adam/OFFICE/CRYPTO/GenesysLabs/Treasury/test/treasury.js&quot;,&quot;file&quot;:&quot;/test/treasury.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should allow admin to unpause when paused&quot;,&quot;fullTitle&quot;:&quot;Treasury Smart Contract Tests Contract Tests Management Functions Pausing Related Transitions should allow admin to unpause when paused&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:132,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const receipt = await treasury_api.unpauseContract();\nexpect(receipt.success).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;759957f3-b2f6-466f-abca-090c82cd9f20&quot;,&quot;parentUUID&quot;:&quot;aad762bb-5036-4e6d-9785-666c679f2436&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should allow admin to pause when unpaused&quot;,&quot;fullTitle&quot;:&quot;Treasury Smart Contract Tests Contract Tests Management Functions Pausing Related Transitions should allow admin to pause when unpaused&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:142,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const receipt = await treasury_api.pauseContract();\nexpect(receipt.success).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3ecfd990-932e-4fc2-a6db-e605bb3f0330&quot;,&quot;parentUUID&quot;:&quot;aad762bb-5036-4e6d-9785-666c679f2436&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not allow unpausing if not admin&quot;,&quot;fullTitle&quot;:&quot;Treasury Smart Contract Tests Contract Tests Management Functions Pausing Related Transitions should not allow unpausing if not admin&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:326,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;exceptionCode = &#x27;Int32 -1&#x27;;\n          const receipt = await treasury_api.pauseContract();         //make sure it is paused first\n          expect(receipt.success).to.be.true;\n          \n          await treasury_api.setSigningAddress(nonAdminPrivateKey)    // change txn signer to non adming...\n          const receipt2 = await treasury_api.unpauseContract();      // ...and attempt to unpause\n          \n          checkException(receipt2, exceptionCode);\n          expect(receipt2.success).to.be.false;                       // txn should have failed&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;40086361-d9da-49cf-a60a-3216c13f941e&quot;,&quot;parentUUID&quot;:&quot;aad762bb-5036-4e6d-9785-666c679f2436&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not allow pausing if not admin&quot;,&quot;fullTitle&quot;:&quot;Treasury Smart Contract Tests Contract Tests Management Functions Pausing Related Transitions should not allow pausing if not admin&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:336,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;exceptionCode = &#x27;Int32 -1&#x27;;\nconst receipt = await treasury_api.unpauseContract();       //make sure it is unpaused first\nexpect(receipt.success).to.be.true;\n\nawait treasury_api.setSigningAddress(nonAdminPrivateKey)    // change txn signer to non adming...\nconst receipt2 = await treasury_api.pauseContract();        // ...and attempt to pause\n\ncheckException(receipt2, exceptionCode);\nexpect(receipt2.success).to.be.false;                       // txn should have failed&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3c58e61f-2a4f-4e2f-b6eb-0d5fc16d14ad&quot;,&quot;parentUUID&quot;:&quot;aad762bb-5036-4e6d-9785-666c679f2436&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;759957f3-b2f6-466f-abca-090c82cd9f20&quot;,&quot;3ecfd990-932e-4fc2-a6db-e605bb3f0330&quot;,&quot;40086361-d9da-49cf-a60a-3216c13f941e&quot;,&quot;3c58e61f-2a4f-4e2f-b6eb-0d5fc16d14ad&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:936,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:100000},{&quot;uuid&quot;:&quot;28a61270-3a71-47c8-aabb-bdf94e2a38a8&quot;,&quot;title&quot;:&quot;Admin Related Transitions&quot;,&quot;fullFile&quot;:&quot;/Users/adam/OFFICE/CRYPTO/GenesysLabs/Treasury/test/treasury.js&quot;,&quot;file&quot;:&quot;/test/treasury.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should allow admin to change admin&quot;,&quot;fullTitle&quot;:&quot;Treasury Smart Contract Tests Contract Tests Management Functions Admin Related Transitions should allow admin to change admin&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:505,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;// test invalid address fails\n          const receipt1 = await treasury_api.changeAdmin(\&quot;InvalidAddress\&quot;);\n          expect(receipt1.success).to.be.false;\n          // test valid address succeeds\n          const receipt2 = await treasury_api.changeAdmin(nonAdminAddress);\n          expect(receipt2.success).to.be.true; \n          //reset back to original admin\n          await treasury_api.setSigningAddress(nonAdminPrivateKey)          \n          const receipt3 = await treasury_api.changeAdmin(adminAddress);\n          expect(receipt3.success).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;05d9eaec-c041-4d34-bc88-389bb7c5ef1f&quot;,&quot;parentUUID&quot;:&quot;28a61270-3a71-47c8-aabb-bdf94e2a38a8&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not allow changing admin if not admin&quot;,&quot;fullTitle&quot;:&quot;Treasury Smart Contract Tests Contract Tests Management Functions Admin Related Transitions should not allow changing admin if not admin&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:160,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;exceptionCode = &#x27;Int32 -1&#x27;;          \n          await treasury_api.setSigningAddress(nonAdminPrivateKey)          // change txn signer to non admin...\n          const receipt2 = await treasury_api.changeAdmin(nonAdminAddress); // ...and attempt to change admin\n          //console.log(receipt2);\n          checkException(receipt2, exceptionCode);\n          \n          expect(receipt2.success).to.be.false;                             // txn should have failed&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d39d75fd-de55-4987-86f8-1a85547d65d3&quot;,&quot;parentUUID&quot;:&quot;28a61270-3a71-47c8-aabb-bdf94e2a38a8&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should allow admin to change company&quot;,&quot;fullTitle&quot;:&quot;Treasury Smart Contract Tests Contract Tests Management Functions Admin Related Transitions should allow admin to change company&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:172,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const receipt = await treasury_api.changeCompany(nonAdminAddress);\n//console.log(receipt);\nexpect(receipt.success).to.be.true;\n//need to confirm that company address has been set correctly.\nconst contractCompanyAddress = await treasury_api.getCompany();\n//console.log(contractCompanyAddress);\nexpect(contractCompanyAddress).to.equal(nonAdminAddress);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;eba34d79-2e7c-46d4-8733-5e92c7ea4d52&quot;,&quot;parentUUID&quot;:&quot;28a61270-3a71-47c8-aabb-bdf94e2a38a8&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not allow changing company if not admin&quot;,&quot;fullTitle&quot;:&quot;Treasury Smart Contract Tests Contract Tests Management Functions Admin Related Transitions should not allow changing company if not admin&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:207,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;exceptionCode = &#x27;Int32 -1&#x27;;          \nawait treasury_api.setSigningAddress(nonAdminPrivateKey)          // change txn signer to non admin...\nconst receipt = await treasury_api.changeCompany(nonAdminAddress); // ...and attempt to change admin\ncheckException(receipt, exceptionCode);\n\nexpect(receipt.success).to.be.false;                             // txn should have failed&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;03331f1a-391f-4aa6-a9bd-0b29425cacab&quot;,&quot;parentUUID&quot;:&quot;28a61270-3a71-47c8-aabb-bdf94e2a38a8&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;05d9eaec-c041-4d34-bc88-389bb7c5ef1f&quot;,&quot;d39d75fd-de55-4987-86f8-1a85547d65d3&quot;,&quot;eba34d79-2e7c-46d4-8733-5e92c7ea4d52&quot;,&quot;03331f1a-391f-4aa6-a9bd-0b29425cacab&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:1044,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:100000},{&quot;uuid&quot;:&quot;45850d67-28b8-49b7-908d-72fb022aee02&quot;,&quot;title&quot;:&quot;Internal Functions&quot;,&quot;fullFile&quot;:&quot;/Users/adam/OFFICE/CRYPTO/GenesysLabs/Treasury/test/treasury.js&quot;,&quot;file&quot;:&quot;/test/treasury.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should recalculate exchange rates when receiving ZIL that is not for buying tokens&quot;,&quot;fullTitle&quot;:&quot;Treasury Smart Contract Tests Contract Tests Management Functions Internal Functions should recalculate exchange rates when receiving ZIL that is not for buying tokens&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:63,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;zilBalance = await treasury_api.getZilBalance();\ntokenBalance = await treasury_api.getTokenBalance();\nzilPrice = await treasury_api.getZilPrice();\ntokenPrice = await treasury_api.getTokenPrice();\nif(debugMode) {\n  console.log(\&quot;Zil: \&quot;, zilBalance);\n  console.log(\&quot;Tokens: \&quot;, tokenBalance);\n  console.log(\&quot;Zil Price: \&quot;, zilPrice);\n  console.log(\&quot;Token Price: \&quot;, tokenPrice);\n}\nexpect(true).to.be.false;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;AssertionError: expected true to be false&quot;,&quot;estack&quot;:&quot;AssertionError: expected true to be false\n    at Context.&lt;anonymous&gt; (test/treasury.js:308:31)\n    at process._tickCallback (internal/process/next_tick.js:68:7)&quot;,&quot;diff&quot;:&quot;- true\n+ false\n&quot;},&quot;uuid&quot;:&quot;86553f44-240e-41ad-bec3-7dff8f9beb8f&quot;,&quot;parentUUID&quot;:&quot;45850d67-28b8-49b7-908d-72fb022aee02&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should recalculate exchange rates when receiving TOKENS that is not for paying invoice&quot;,&quot;fullTitle&quot;:&quot;Treasury Smart Contract Tests Contract Tests Management Functions Internal Functions should recalculate exchange rates when receiving TOKENS that is not for paying invoice&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;pending&quot;,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:true,&quot;code&quot;:&quot;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2c77ffcb-00e1-4598-a90d-c610a2ddf1a8&quot;,&quot;parentUUID&quot;:&quot;45850d67-28b8-49b7-908d-72fb022aee02&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[&quot;86553f44-240e-41ad-bec3-7dff8f9beb8f&quot;],&quot;pending&quot;:[&quot;2c77ffcb-00e1-4598-a90d-c610a2ddf1a8&quot;],&quot;skipped&quot;:[],&quot;duration&quot;:63,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:100000},{&quot;uuid&quot;:&quot;fc67b015-c072-4ac5-a118-f8dea062b306&quot;,&quot;title&quot;:&quot;Trading Features&quot;,&quot;fullFile&quot;:&quot;/Users/adam/OFFICE/CRYPTO/GenesysLabs/Treasury/test/treasury.js&quot;,&quot;file&quot;:&quot;/test/treasury.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should not allow buying of tokens when paused&quot;,&quot;fullTitle&quot;:&quot;Treasury Smart Contract Tests Contract Tests Management Functions Trading Features should not allow buying of tokens when paused&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:287,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;//pause it first\n          const receipt2 = await treasury_api.pauseContract(); \n          expect(receipt2.success).to.be.true;\n          const zil_amount_BN = units.toQa(5, units.Units.Zil);\n          const receipt = await treasury_api.buyTokens(zil_amount_BN);\n          //check error is due to being &#x27;paused&#x27;\n          exceptionCode = &#x27;Int32 -5&#x27;\n          checkException(receipt, exceptionCode);\n          expect(receipt.success).to.be.false;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;fa0cbfac-25d8-4aea-b4bb-3114a07e7a24&quot;,&quot;parentUUID&quot;:&quot;fc67b015-c072-4ac5-a118-f8dea062b306&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not allow selling of tokens when paused&quot;,&quot;fullTitle&quot;:&quot;Treasury Smart Contract Tests Contract Tests Management Functions Trading Features should not allow selling of tokens when paused&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:285,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;//pause it first\nconst receipt2 = await treasury_api.pauseContract(); \nexpect(receipt2.success).to.be.true;\n//const zil_amount_BN = units.toQa(5, units.Units.Zil);\nconst receipt = await treasury_api.sellTokens();\n//check error is due to being &#x27;paused&#x27;\nexceptionCode = &#x27;Int32 -5&#x27;\ncheckException(receipt, exceptionCode);\n//console.log(receipt);\nexpect(receipt.success).to.be.false;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1c08915e-08d5-44b2-ad66-74bbf23e18ef&quot;,&quot;parentUUID&quot;:&quot;fc67b015-c072-4ac5-a118-f8dea062b306&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should allow buying of tokens when unpaused&quot;,&quot;fullTitle&quot;:&quot;Treasury Smart Contract Tests Contract Tests Management Functions Trading Features should allow buying of tokens when unpaused&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;pending&quot;,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:true,&quot;code&quot;:&quot;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;efac7142-29d0-46a8-9e23-577ebc59903a&quot;,&quot;parentUUID&quot;:&quot;fc67b015-c072-4ac5-a118-f8dea062b306&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should allow selling of tokens when unpaused&quot;,&quot;fullTitle&quot;:&quot;Treasury Smart Contract Tests Contract Tests Management Functions Trading Features should allow selling of tokens when unpaused&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;pending&quot;,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:true,&quot;code&quot;:&quot;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9f76258e-6f44-4e5f-aae5-c058ea220336&quot;,&quot;parentUUID&quot;:&quot;fc67b015-c072-4ac5-a118-f8dea062b306&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not allow selling more tokens than you have&quot;,&quot;fullTitle&quot;:&quot;Treasury Smart Contract Tests Contract Tests Management Functions Trading Features should not allow selling more tokens than you have&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;pending&quot;,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:true,&quot;code&quot;:&quot;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;42fff9d8-c141-4383-a759-37c7c5badf81&quot;,&quot;parentUUID&quot;:&quot;fc67b015-c072-4ac5-a118-f8dea062b306&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should issue correct amount of tokens when buying tokens with 1 ZIL&quot;,&quot;fullTitle&quot;:&quot;Treasury Smart Contract Tests Contract Tests Management Functions Trading Features should issue correct amount of tokens when buying tokens with 1 ZIL&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;pending&quot;,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:true,&quot;code&quot;:&quot;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3d0913e3-be6f-4711-92df-a15e72a0ece0&quot;,&quot;parentUUID&quot;:&quot;fc67b015-c072-4ac5-a118-f8dea062b306&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should send the correct amount of ZIL to you after selling tokens&quot;,&quot;fullTitle&quot;:&quot;Treasury Smart Contract Tests Contract Tests Management Functions Trading Features should send the correct amount of ZIL to you after selling tokens&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;pending&quot;,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:true,&quot;code&quot;:&quot;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f1647538-8209-428f-8675-4d16b55545bf&quot;,&quot;parentUUID&quot;:&quot;fc67b015-c072-4ac5-a118-f8dea062b306&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;fa0cbfac-25d8-4aea-b4bb-3114a07e7a24&quot;,&quot;1c08915e-08d5-44b2-ad66-74bbf23e18ef&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[&quot;efac7142-29d0-46a8-9e23-577ebc59903a&quot;,&quot;9f76258e-6f44-4e5f-aae5-c058ea220336&quot;,&quot;42fff9d8-c141-4383-a759-37c7c5badf81&quot;,&quot;3d0913e3-be6f-4711-92df-a15e72a0ece0&quot;,&quot;f1647538-8209-428f-8675-4d16b55545bf&quot;],&quot;skipped&quot;:[],&quot;duration&quot;:572,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:100000},{&quot;uuid&quot;:&quot;8a2d3f86-5198-4c5d-b17a-55edab25123b&quot;,&quot;title&quot;:&quot;Invoicing Features&quot;,&quot;fullFile&quot;:&quot;/Users/adam/OFFICE/CRYPTO/GenesysLabs/Treasury/test/treasury.js&quot;,&quot;file&quot;:&quot;/test/treasury.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should allow creating new invoice&quot;,&quot;fullTitle&quot;:&quot;Treasury Smart Contract Tests Contract Tests Management Functions Invoicing Features should allow creating new invoice&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;pending&quot;,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:true,&quot;code&quot;:&quot;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9517231e-2066-4d37-902c-103bc2d9a576&quot;,&quot;parentUUID&quot;:&quot;8a2d3f86-5198-4c5d-b17a-55edab25123b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should only allow admin to cancel an invoice&quot;,&quot;fullTitle&quot;:&quot;Treasury Smart Contract Tests Contract Tests Management Functions Invoicing Features should only allow admin to cancel an invoice&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;pending&quot;,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:true,&quot;code&quot;:&quot;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;85d99adc-583e-42c9-bb00-bf74a9ead194&quot;,&quot;parentUUID&quot;:&quot;8a2d3f86-5198-4c5d-b17a-55edab25123b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should error when trying to cancel an invoice that does not exist&quot;,&quot;fullTitle&quot;:&quot;Treasury Smart Contract Tests Contract Tests Management Functions Invoicing Features should error when trying to cancel an invoice that does not exist&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;pending&quot;,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:true,&quot;code&quot;:&quot;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f8238aaf-ce58-4253-b2fc-d8284b924110&quot;,&quot;parentUUID&quot;:&quot;8a2d3f86-5198-4c5d-b17a-55edab25123b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should allow an invoice to be partially paid with tokens&quot;,&quot;fullTitle&quot;:&quot;Treasury Smart Contract Tests Contract Tests Management Functions Invoicing Features should allow an invoice to be partially paid with tokens&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;pending&quot;,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:true,&quot;code&quot;:&quot;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1ee782a5-29c3-4a62-b2d0-b79d1dbf41a7&quot;,&quot;parentUUID&quot;:&quot;8a2d3f86-5198-4c5d-b17a-55edab25123b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should allow an invoice to be paid in full with tokens&quot;,&quot;fullTitle&quot;:&quot;Treasury Smart Contract Tests Contract Tests Management Functions Invoicing Features should allow an invoice to be paid in full with tokens&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;pending&quot;,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:true,&quot;code&quot;:&quot;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0848a3b7-0982-4e93-a717-f03141d9b7a8&quot;,&quot;parentUUID&quot;:&quot;8a2d3f86-5198-4c5d-b17a-55edab25123b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should allow an invoice to be partially paid with ZIL&quot;,&quot;fullTitle&quot;:&quot;Treasury Smart Contract Tests Contract Tests Management Functions Invoicing Features should allow an invoice to be partially paid with ZIL&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;pending&quot;,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:true,&quot;code&quot;:&quot;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b42fecd3-918c-4916-89d0-1ae1b7ea8a8a&quot;,&quot;parentUUID&quot;:&quot;8a2d3f86-5198-4c5d-b17a-55edab25123b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should allow an invoice to be paid in full with ZIL&quot;,&quot;fullTitle&quot;:&quot;Treasury Smart Contract Tests Contract Tests Management Functions Invoicing Features should allow an invoice to be paid in full with ZIL&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;pending&quot;,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:true,&quot;code&quot;:&quot;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;86bfa3c3-08e8-4db3-9fb9-be3d1659bab1&quot;,&quot;parentUUID&quot;:&quot;8a2d3f86-5198-4c5d-b17a-55edab25123b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should allow an invoice to be partially paid with combination of tokens and ZIL&quot;,&quot;fullTitle&quot;:&quot;Treasury Smart Contract Tests Contract Tests Management Functions Invoicing Features should allow an invoice to be partially paid with combination of tokens and ZIL&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;pending&quot;,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:true,&quot;code&quot;:&quot;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;38f367f5-67f9-4c8b-8396-bb1b2007b2e4&quot;,&quot;parentUUID&quot;:&quot;8a2d3f86-5198-4c5d-b17a-55edab25123b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should allow an invoice to be paid in full with combination of tokens and ZIL&quot;,&quot;fullTitle&quot;:&quot;Treasury Smart Contract Tests Contract Tests Management Functions Invoicing Features should allow an invoice to be paid in full with combination of tokens and ZIL&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;pending&quot;,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:true,&quot;code&quot;:&quot;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;41f75e15-59c7-4ae9-b751-a314f7de3ead&quot;,&quot;parentUUID&quot;:&quot;8a2d3f86-5198-4c5d-b17a-55edab25123b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should issue new tokens if invoice is overpaid with ZIL&quot;,&quot;fullTitle&quot;:&quot;Treasury Smart Contract Tests Contract Tests Management Functions Invoicing Features should issue new tokens if invoice is overpaid with ZIL&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;pending&quot;,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:true,&quot;code&quot;:&quot;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a4a15031-b1a8-46ca-a515-2c8a1d16dfb1&quot;,&quot;parentUUID&quot;:&quot;8a2d3f86-5198-4c5d-b17a-55edab25123b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should allow an invoice to be overpaid with combination of tokens and ZIL&quot;,&quot;fullTitle&quot;:&quot;Treasury Smart Contract Tests Contract Tests Management Functions Invoicing Features should allow an invoice to be overpaid with combination of tokens and ZIL&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;pending&quot;,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:true,&quot;code&quot;:&quot;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;662f31d9-d981-484f-8168-ac26bb7a1c08&quot;,&quot;parentUUID&quot;:&quot;8a2d3f86-5198-4c5d-b17a-55edab25123b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should allow multiple payments against an invoice&quot;,&quot;fullTitle&quot;:&quot;Treasury Smart Contract Tests Contract Tests Management Functions Invoicing Features should allow multiple payments against an invoice&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;pending&quot;,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:true,&quot;code&quot;:&quot;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;97cbf5d3-24be-4aa0-9f41-c1e065b369c8&quot;,&quot;parentUUID&quot;:&quot;8a2d3f86-5198-4c5d-b17a-55edab25123b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should only consume the correct amount of tokens when invoice is overpaid&quot;,&quot;fullTitle&quot;:&quot;Treasury Smart Contract Tests Contract Tests Management Functions Invoicing Features should only consume the correct amount of tokens when invoice is overpaid&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;pending&quot;,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:true,&quot;code&quot;:&quot;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5b86f5f6-bc3d-442a-b343-63bf4e1c1436&quot;,&quot;parentUUID&quot;:&quot;8a2d3f86-5198-4c5d-b17a-55edab25123b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not allow payments against fully paid invoices&quot;,&quot;fullTitle&quot;:&quot;Treasury Smart Contract Tests Contract Tests Management Functions Invoicing Features should not allow payments against fully paid invoices&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;pending&quot;,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:true,&quot;code&quot;:&quot;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9f24a1ca-f217-4692-ba72-7add007d8276&quot;,&quot;parentUUID&quot;:&quot;8a2d3f86-5198-4c5d-b17a-55edab25123b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[&quot;9517231e-2066-4d37-902c-103bc2d9a576&quot;,&quot;85d99adc-583e-42c9-bb00-bf74a9ead194&quot;,&quot;f8238aaf-ce58-4253-b2fc-d8284b924110&quot;,&quot;1ee782a5-29c3-4a62-b2d0-b79d1dbf41a7&quot;,&quot;0848a3b7-0982-4e93-a717-f03141d9b7a8&quot;,&quot;b42fecd3-918c-4916-89d0-1ae1b7ea8a8a&quot;,&quot;86bfa3c3-08e8-4db3-9fb9-be3d1659bab1&quot;,&quot;38f367f5-67f9-4c8b-8396-bb1b2007b2e4&quot;,&quot;41f75e15-59c7-4ae9-b751-a314f7de3ead&quot;,&quot;a4a15031-b1a8-46ca-a515-2c8a1d16dfb1&quot;,&quot;662f31d9-d981-484f-8168-ac26bb7a1c08&quot;,&quot;97cbf5d3-24be-4aa0-9f41-c1e065b369c8&quot;,&quot;5b86f5f6-bc3d-442a-b343-63bf4e1c1436&quot;,&quot;9f24a1ca-f217-4692-ba72-7add007d8276&quot;],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:100000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:100000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:100000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:true,&quot;rootEmpty&quot;:true,&quot;_timeout&quot;:2000}],&quot;meta&quot;:{&quot;mocha&quot;:{&quot;version&quot;:&quot;8.2.1&quot;},&quot;mochawesome&quot;:{&quot;options&quot;:{&quot;quiet&quot;:true,&quot;reportFilename&quot;:&quot;index&quot;,&quot;saveHtml&quot;:true,&quot;saveJson&quot;:true,&quot;consoleReporter&quot;:&quot;spec&quot;,&quot;useInlineDiffs&quot;:false,&quot;code&quot;:true},&quot;version&quot;:&quot;6.2.1&quot;},&quot;marge&quot;:{&quot;options&quot;:{&quot;quiet&quot;:&quot;true&quot;,&quot;reportFilename&quot;:&quot;index&quot;},&quot;version&quot;:&quot;5.1.0&quot;}}}" data-config="{&quot;reportFilename&quot;:&quot;index&quot;,&quot;reportDir&quot;:&quot;mochawesome-report&quot;,&quot;reportTitle&quot;:&quot;Treasury&quot;,&quot;reportPageTitle&quot;:&quot;Mochawesome Report&quot;,&quot;inline&quot;:false,&quot;inlineAssets&quot;:false,&quot;cdn&quot;:false,&quot;charts&quot;:false,&quot;enableCharts&quot;:false,&quot;code&quot;:true,&quot;enableCode&quot;:true,&quot;autoOpen&quot;:false,&quot;overwrite&quot;:true,&quot;timestamp&quot;:false,&quot;ts&quot;:false,&quot;showPassed&quot;:true,&quot;showFailed&quot;:true,&quot;showPending&quot;:true,&quot;showSkipped&quot;:false,&quot;showHooks&quot;:&quot;failed&quot;,&quot;saveJson&quot;:true,&quot;saveHtml&quot;:true,&quot;dev&quot;:false,&quot;assetsDir&quot;:&quot;mochawesome-report/assets&quot;,&quot;jsonFile&quot;:&quot;/Users/adam/OFFICE/CRYPTO/GenesysLabs/Treasury/mochawesome-report/index.json&quot;,&quot;htmlFile&quot;:&quot;/Users/adam/OFFICE/CRYPTO/GenesysLabs/Treasury/mochawesome-report/index.html&quot;}"><div id="report"></div><script src="assets/app.js"></script></body></html>